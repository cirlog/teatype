/**
 * @license
 * Copyright (C) 2024-2026 Burak GÃ¼naydin
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 */

@import 'variables';

.iphone-preview {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 40px;

    &__frame {
        position: relative;
        width: $iphone-preview-width;
        height: $iphone-preview-height;
        background: #1c1c1e;
        border-radius: $iphone-border-radius;
        padding: $iphone-bezel;
        box-shadow: 0 50px 100px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(255, 255, 255, 0.1),
            inset 0 1px 0 rgba(255, 255, 255, 0.15);

        // Outer edge highlight
        &::before {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: $iphone-border-radius + 1px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
            z-index: -1;
        }
    }

    &__dynamic-island {
        position: absolute;
        top: 18px;
        left: 50%;
        transform: translateX(-50%);
        width: 120px;
        height: 36px;
        background: #000;
        border-radius: 20px;
        z-index: 10;
    }

    &__screen {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: $iphone-border-radius - $iphone-bezel;
        overflow: hidden;
        background: #000;
    }

    &__background {
        position: absolute;
        inset: 0;
        background-size: cover;
        background-position: center;
        filter: blur(25px) brightness(0.4);
        transform: scale(1.1); // Prevent blur edge artifacts
    }

    &__polaroid {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 85%;
        background: $polaroid-white;
        border-radius: 4px;
        box-shadow: 0 10px 30px $polaroid-shadow, 0 5px 15px rgba(0, 0, 0, 0.2);
        display: flex;
        flex-direction: column;
    }

    &__polaroid-top {
        height: 18px; // Space for clock to show through
        flex-shrink: 0;
    }

    &__polaroid-photo {
        width: calc(100% - 12px);
        aspect-ratio: 4 / 5;
        margin: 0 6px;
        background-size: cover;
        background-position: center;
        flex-shrink: 0;

        &--filtered {
            filter: sepia(0.1) saturate(1.1) brightness(1.02) contrast(0.95);
        }
    }

    &__polaroid-label {
        padding: 12px 8px 16px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2px;
        text-align: center;
    }

    &__polaroid-title {
        font-family: 'Caveat', cursive;
        font-size: 18px;
        font-weight: 600;
        color: $polaroid-text-primary;
        line-height: 1.2;
    }

    &__polaroid-meta {
        font-family: 'Inter', sans-serif;
        font-size: 9px;
        color: $polaroid-text-secondary;
        line-height: 1.3;
    }

    &__time {
        position: absolute;
        top: 22px;
        left: 50%;
        transform: translateX(-50%);
        font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        font-size: 15px;
        font-weight: 600;
        color: $text-primary;
        z-index: 5;
    }

    &__home-indicator {
        position: absolute;
        bottom: 8px;
        left: 50%;
        transform: translateX(-50%);
        width: 134px;
        height: 5px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 3px;
    }

    &__empty {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        color: $text-tertiary;
        font-size: 12px;
        text-align: center;
        padding: 20px;
    }
}
